---
layout: layouts/base.njk
title: "dart_node - JavaScript 生态系统的全栈 Dart 方案"
description: "使用 Dart 编写 React、React Native 和 Express 应用。运行时类型安全，健全的空安全，一种语言。"
lang: zh
permalink: /zh/
---

<section class="hero">
  <div class="container">
    <h1>JavaScript 生态系统的<br>全栈 Dart 方案</h1>
    <p class="hero-subtitle">
      使用 Dart 编写 React、React Native 和 Express 应用。
      一种语言。运行时类型安全。健全的空安全。
    </p>
    <div class="hero-buttons">
      <a href="/zh/docs/getting-started/" class="btn btn-primary btn-large">开始使用</a>
      <a href="/zh/docs/why-dart/" class="btn btn-secondary btn-large">为什么选择 Dart？</a>
    </div>

    <div class="hero-code">
{% highlight "dart" %}
// A complete Express server in Dart
import 'package:dart_node_express/dart_node_express.dart';

void main() {
  final app = createExpressApp();

  app.get('/', (req, res) {
    res.json({'message': 'Hello from Dart!'});
  });

  app.listen(3000, () {
    print('Server running on port 3000');
  });
}
{% endhighlight %}
    </div>
  </div>
</section>

<section class="audience-section">
  <div class="container">
    <div class="section-title">
      <h2>适用人群</h2>
      <p>无论您是 React 开发者还是 Flutter 开发者，dart_node 都适合您。</p>
    </div>

    <div class="audience-tabs">
      <button class="audience-tab active" data-audience="react">React / React Native 开发者</button>
      <button class="audience-tab" data-audience="flutter">Flutter 开发者</button>
    </div>

    <div class="audience-content active" id="react-content">
      <div class="code-comparison">
        <div class="code-block">
          <div class="code-block-header">React (TypeScript)</div>
{% highlight "tsx" %}
const Counter: React.FC = () => {
  const [count, setCount] = useState<number>(0);

  return (
    <button onClick={() => setCount(c => c + 1)}>
      Count: {count}
    </button>
  );
};
{% endhighlight %}
        </div>
        <div class="code-block">
          <div class="code-block-header">React (Dart)</div>
{% highlight "dart" %}
ReactElement counter() {
  final (count, setCount) = useState(0);

  return button(
    onClick: (_) => setCount((c) => c + 1),
    children: [text('Count: $count')],
  );
}
{% endhighlight %}
        </div>
      </div>

      <div class="features-grid" style="margin-top: var(--space-8);">
        <div class="feature-card">
          <div class="feature-icon">1</div>
          <h3>相同的编程范式</h3>
          <p>Hooks、组件、props、state &mdash; React 中的所有概念在 Dart 中同样适用。</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">2</div>
          <h3>运行时类型安全</h3>
          <p>与 TypeScript 不同，Dart 在运行时保留类型信息。没有 <code>any</code> 类型逃逸，泛型不会被擦除。</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">3</div>
          <h3>更简单的工具链</h3>
          <p>不需要 webpack、babel、tsconfig。只需 <code>dart compile js</code> 即可。</p>
        </div>
      </div>
    </div>

    <div class="audience-content" id="flutter-content">
      <div class="code-comparison">
        <div class="code-block">
          <div class="code-block-header">Flutter</div>
{% highlight "dart" %}
class Counter extends StatefulWidget {
  @override
  State<Counter> createState() => _CounterState();
}

class _CounterState extends State<Counter> {
  int count = 0;

  @override
  Widget build(BuildContext context) {
    return ElevatedButton(
      onPressed: () => setState(() => count++),
      child: Text('Count: $count'),
    );
  }
}
{% endhighlight %}
        </div>
        <div class="code-block">
          <div class="code-block-header">dart_node React</div>
{% highlight "dart" %}
ReactElement counter() {
  final (count, setCount) = useState(0);

  return button(
    onClick: (_) => setCount((c) => c + 1),
    children: [text('Count: $count')],
  );
}
{% endhighlight %}
        </div>
      </div>

      <div class="features-grid" style="margin-top: var(--space-8);">
        <div class="feature-card">
          <div class="feature-icon">1</div>
          <h3>同一种语言</h3>
          <p>使用现有的 Dart 技能。跨平台共享模型、工具函数和业务逻辑。</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">2</div>
          <h3>访问 Web 生态系统</h3>
          <p>在编写纯 Dart 代码的同时，可以使用 React 和 npm 生态系统。</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">3</div>
          <h3>全栈 Dart</h3>
          <p>后端 (Express)、Web (React)、移动端 (React Native) &mdash; 全部使用同一种语言。</p>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="features">
  <div class="container">
    <div class="section-title">
      <h2>dart_node 包</h2>
      <p>全栈开发所需的包和工具。</p>
    </div>

    <div class="features-grid">
      <div class="feature-card">
        <div class="feature-icon" style="background: var(--color-primary);">C</div>
        <h3>dart_node_core</h3>
        <p>基础层：JS 互操作工具、Node.js 绑定、控制台工具。</p>
        <a href="/zh/docs/core/">了解更多 &rarr;</a>
      </div>

      <div class="feature-card">
        <div class="feature-icon" style="background: var(--color-secondary);">E</div>
        <h3>dart_node_express</h3>
        <p>类型安全的 Express.js 绑定，用于构建 HTTP 服务器和 REST API。</p>
        <a href="/zh/docs/express/">了解更多 &rarr;</a>
      </div>

      <div class="feature-card">
        <div class="feature-icon" style="background: var(--color-accent);">R</div>
        <h3>dart_node_react</h3>
        <p>React 绑定，支持 hooks、类 JSX 语法和完整的组件功能。</p>
        <a href="/zh/docs/react/">了解更多 &rarr;</a>
      </div>

      <div class="feature-card">
        <div class="feature-icon" style="background: var(--color-warning);">N</div>
        <h3>dart_node_react_native</h3>
        <p>React Native + Expo 绑定，用于跨平台移动开发。</p>
        <a href="/zh/docs/react-native/">了解更多 &rarr;</a>
      </div>

      <div class="feature-card">
        <div class="feature-icon" style="background: var(--color-success);">W</div>
        <h3>dart_node_ws</h3>
        <p>WebSocket 绑定，用于 Node.js 实时通信。</p>
        <a href="/zh/docs/websockets/">了解更多 &rarr;</a>
      </div>

      <div class="feature-card">
        <div class="feature-icon" style="background: #9b59b6;">M</div>
        <h3>dart_node_mcp</h3>
        <p>Model Context Protocol 服务器绑定，用于构建 AI 工具服务器。</p>
      </div>

      <div class="feature-card">
        <div class="feature-icon" style="background: #3498db;">S</div>
        <h3>dart_node_better_sqlite3</h3>
        <p>better-sqlite3 的类型化绑定，支持同步 SQLite3 和 WAL 模式。</p>
      </div>

      <div class="feature-card">
        <div class="feature-icon" style="background: #e74c3c;">X</div>
        <h3>reflux</h3>
        <p>Redux 风格的状态容器，支持穷尽模式匹配。</p>
      </div>

      <div class="feature-card">
        <div class="feature-icon" style="background: #1abc9c;">L</div>
        <h3>dart_logging</h3>
        <p>Pino 风格的结构化日志，支持子 logger 和 transport。</p>
      </div>

      <div class="feature-card">
        <div class="feature-icon" style="background: #f39c12;">J</div>
        <h3>dart_jsx</h3>
        <p>Dart 的 JSX 转译器 &mdash; JSX 语法编译为 dart_node_react 调用。</p>
      </div>

      <div class="feature-card">
        <div class="feature-icon" style="background: #8e44ad;">T</div>
        <h3>too-many-cooks</h3>
        <p>多 AI 代理协调 MCP 服务器，用于多个代理同时编辑代码库。</p>
        <a href="/zh/docs/too-many-cooks/">了解更多 &rarr;</a>
      </div>
    </div>
  </div>
</section>

<section class="features" style="background: var(--bg-secondary);">
  <div class="container">
    <div class="section-title">
      <h2>运行时类型的重要性</h2>
      <p>TypeScript 编译为 JavaScript 时会擦除类型。Dart 不会。</p>
    </div>

    <div class="code-comparison">
      <div class="code-block">
        <div class="code-block-header">TypeScript (Types Erased)</div>
{% highlight "ts" %}
interface User {
  id: number;
  name: string;
}

// At runtime, this is just a plain object
// No way to validate the shape!
const user: User = JSON.parse(data);

// This could fail silently
console.log(user.name.toUpperCase());
// Runtime error if name is undefined!
{% endhighlight %}
      </div>
      <div class="code-block">
        <div class="code-block-header">Dart (Types Preserved)</div>
{% highlight "dart" %}
class User {
  final int id;
  final String name;
  User({required this.id, required this.name});
}

// Types exist at runtime - you can validate!
final user = User.fromJson(jsonDecode(data));

// If name were null, this would fail
// at deserialization, not at usage
print(user.name.toUpperCase());
{% endhighlight %}
      </div>
    </div>

    <div class="text-center" style="margin-top: var(--space-8);">
      <a href="/zh/docs/why-dart/" class="btn btn-primary">了解 Dart 类型系统</a>
    </div>
  </div>
</section>

<section class="features">
  <div class="container">
    <div class="section-title">
      <h2>快速开始</h2>
    </div>

    <div style="max-width: 700px; margin: 0 auto;">
{% highlight "bash" %}
# Create a new project
mkdir my_dart_app && cd my_dart_app
dart create -t package .

# Add dart_node packages
dart pub add dart_node_core dart_node_express

# Write your server
cat > lib/server.dart << 'EOF'
import 'package:dart_node_express/dart_node_express.dart';

void main() {
  final app = createExpressApp();
  app.get('/', (req, res) => res.send('Hello, Dart!'));
  app.listen(3000);
}
EOF

# Compile to JavaScript and run
dart compile js lib/server.dart -o build/server.js
node build/server.js
{% endhighlight %}
    </div>

    <div class="text-center" style="margin-top: var(--space-8);">
      <a href="/zh/docs/getting-started/" class="btn btn-primary btn-large">阅读完整指南</a>
    </div>
  </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const tabs = document.querySelectorAll('.audience-tab');
  const contents = document.querySelectorAll('.audience-content');

  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      const audience = tab.dataset.audience;

      tabs.forEach(t => t.classList.remove('active'));
      tab.classList.add('active');

      contents.forEach(content => {
        content.classList.toggle('active', content.id === `${audience}-content`);
      });
    });
  });
});
</script>
