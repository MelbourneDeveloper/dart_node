---
layout: layouts/base.njk
---

{# Language-aware URL prefix #}
{% set langPrefix = "/zh" if lang == "zh" else "" %}
{% set backText = "← 返回博客" if lang == "zh" else "← Back to Blog" %}

{# JSON-LD Article Schema for Blog Posts #}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "{{ title }}",
  "description": "{{ description | default(title) }}",
  "url": "{{ site.url }}{{ page.url }}",
  "datePublished": "{{ date | isoDate }}",
  "dateModified": "{{ date | isoDate }}",
  "author": {
    "@type": "Person",
    "name": "{{ author | default('dart_node team') }}"
  },
  "publisher": {
    "@type": "Organization",
    "name": "dart_node",
    "logo": {
      "@type": "ImageObject",
      "url": "{{ site.url }}/assets/images/og-image.png"
    }
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "{{ site.url }}{{ page.url }}"
  },
  "image": "{{ site.url }}/assets/images/og-image.png",
  "inLanguage": "{{ lang | default('en') }}"
  {% if tags %},
  "keywords": "{{ tags | join(', ') }}"
  {% endif %}
  {% if category %},
  "articleSection": "{{ category }}"
  {% endif %}
}
</script>

<article class="blog-post" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="container">
    <header class="blog-post-header">
      <p class="blog-post-meta">
        <time datetime="{{ date | isoDate }}">{{ date | dateFormat }}</time>
        {% if author %} &middot; {{ author }}{% endif %}
        {% if category %} &middot; <a href="{{ langPrefix }}/blog/categories/{{ category | slugify }}/">{{ category | capitalize }}</a>{% endif %}
      </p>
      <h1>{{ title }}</h1>
      {% if tags %}
      <div style="margin-top: var(--space-4);">
        {% for tag in tags %}
        {% if tag != 'post' and tag != 'posts' %}
        <a href="{{ langPrefix }}/blog/tags/{{ tag | slugify }}/" class="tag tag-secondary">{{ tag }}</a>
        {% endif %}
        {% endfor %}
      </div>
      {% endif %}
    </header>

    <div class="blog-post-content">
      {{ content | safe }}
    </div>

    <footer style="margin-top: var(--space-12); padding-top: var(--space-6); border-top: 1px solid var(--border-color); text-align: center;">
      <a href="{{ langPrefix }}/blog/" class="btn btn-secondary">{{ backText }}</a>
    </footer>
  </div>
</article>
